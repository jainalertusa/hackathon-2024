[Trulia]

url = https://www.trulia.com/graphql

headers = {
        "accept": "*/*",
        "accept-language": "en-US,en;q=0.9",
        "content-type": "application/json",
        "cookie": "_pxhd=iMa9KX8DLszuZeXp3wXigbGJmRuUC7CwzXlFUHlegz0R9nyn3Z/feMKW8W1tdGAadNlgRiUee1lowzv9OHzp6Q==:i5vwRXcnu1gTcrTZCtdW62CnsTuUeFWi2pCfHLg7ty2i6t0vTyfNIPqLw-H/6Sfg1yKqRr50WbKKlv3In-/yhGO5atTxCY3hmn3MuuskbLw=; tlftmusr=240619sfaxm9ibq0g87vl0szj6ezm375; zjs_user_id=null; zg_anonymous_id=%22ebfb2c81-b7ab-4639-b31f-8d2f2b7813ea%22; zjs_anonymous_id=%22240619sfaxm9ibq0g87vl0szj6ezm375%22; s_fid=4C1824DD2E7A7985-0BE1EB4057AC1352; s_vi=[CS]v1|333913D9AC38E914-40000F49E47A6DA6[CE]; _pxvid=c16bb147-2dd3-11ef-bdb5-49eb9124e303; _csrfSecret=Sn60wGrA1E%2FJZZYSqZEG%2BXIY; tabc=%7B%221274%22%3A%22a%22%2C%221337%22%3A%22b%22%2C%221341%22%3A%22b%22%2C%221353%22%3A%22b%22%2C%221365%22%3A%22b%22%2C%221377%22%3A%22b%22%2C%221386%22%3A%22b%22%2C%221395%22%3A%22b%22%2C%221406%22%3A%22b%22%2C%221409%22%3A%22b%22%2C%221422%22%3A%22a%22%2C%221425%22%3A%22a%22%2C%221437%22%3A%22a%22%2C%221439%22%3A%22control%22%2C%221440%22%3A%22control%22%2C%221444%22%3A%22a%22%2C%221452%22%3A%22a%22%2C%221464%22%3A%22a%22%2C%221469%22%3A%22a%22%2C%221475%22%3A%22b%22%2C%221476%22%3A%22a%22%2C%221481%22%3A%22a%22%2C%221484%22%3A%22a%22%7D; s_cc=true; pxcts=67cb0a71-305c-11ef-bcf1-00180835e9a5; __gads=ID=b6223778a1d46a5e:T=1718757299:RT=1719035890:S=ALNI_MaCiOk4JKImiunkpD9PFePUw5Kdkw; __gpi=UID=00000e3143138126:T=1718757299:RT=1719035890:S=ALNI_MapiffivCIAoD_GEkw8ZThPdyAxGg; __eoi=ID=223bd185bd899a5e:T=1718757299:RT=1719035890:S=AA-AfjbRWRvQIjzCawNCNtpWlvQy; _lr_geo_location_state=CA; _lr_geo_location=US; g_state=googleOneTap; s_sq=%5B%5BB%5D%5D; _px3=f60a22bcc18a12afdea2ffcf5b4eaed15d8249cbe75ae776ddbb54bda068f1b6:GeeNUrCdkwZIcbLTjTQXm8KUwpIvcprS9oULnZVfezeY5grzbwy59OCz/n/xnRZZjG9RgYOPikjsnoFa+tx+Tw==:1000:yDn9+I0AI0CHmyE+wuJNeqbuUSaMt+AGp/cJtvGuA/s4It9pZ+AtXPbDphOUT+pthzDvIt0ucQQeKcd+LRn8Qtazapk/g/5uG9/TDucuzu6BCReIWMeodIVCTc8DQpedbqkOJesc1MAoIItHsaVOO3mxtHCL2HZ5/u9gEwNmaYDuzZUCA4etCNBrPljXXyC5KYqk5bFAxJNR3cgzRZUbhqK5Cj2Bey2I4qWTyg+SeUQ=; trul_visitTimer=1719035890690_1719035993794",
        "origin": "https://www.trulia.com",
        "priority": "u=1, i",
        "referer": "https://www.trulia.com/NY/New_York/",
        "sec-ch-ua": "\"Not/A)Brand\";v=\"8\", \"Chromium\";v=\"126\", \"Google Chrome\";v=\"126\"",
        "sec-ch-ua-mobile": "?0",
        "sec-ch-ua-platform": "\"macOS\"",
        "sec-fetch-dest": "empty",
        "sec-fetch-mode": "cors",
        "sec-fetch-site": "same-origin",
        "user-agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36",
        "x-b3-parentspanid": "b96fc29a283f13e8",
        "x-b3-sampled": "0",
        "x-b3-spanid": "9d26e13e0cf5b129",
        "x-b3-traceid": "c0e093b3e42d5f41b96fc29a283f13e8",
        "x-contextual-highlights": "1",
        "x-csrf-token": "AAhUZYch+7JcjSnP+V+eD8Okaw/1jIx/bj3HGcHy",
        "x-force-srp-llm-test": "0",
        "x-is-bot": "0",
        "x-papi-fall-back-disabled": "0",
        "x-pdc-api-enabled": "1",
        "x-real-ip": "47.147.156.151",
        "x-request-id": "31d17d80-8059-4207-b2d0-9a2852124673",
        "x-school-review": "1",
        "x-session-id": "NoSession-StaticBuild",
        "x-unauth-token": "true",
        "x-use-lead-form-v2": "0"
    }

cookies = {
        "_pxhd": "iMa9KX8DLszuZeXp3wXigbGJmRuUC7CwzXlFUHlegz0R9nyn3Z/feMKW8W1tdGAadNlgRiUee1lowzv9OHzp6Q==:i5vwRXcnu1gTcrTZCtdW62CnsTuUeFWi2pCfHLg7ty2i6t0vTyfNIPqLw-H/6Sfg1yKqRr50WbKKlv3In-/yhGO5atTxCY3hmn3MuuskbLw=",
        "tlftmusr": "240619sfaxm9ibq0g87vl0szj6ezm375",
        "zjs_user_id": "null",
        "zg_anonymous_id": "%22ebfb2c81-b7ab-4639-b31f-8d2f2b7813ea%22",
        "zjs_anonymous_id": "%22240619sfaxm9ibq0g87vl0szj6ezm375%22",
        "s_fid": "4C1824DD2E7A7985-0BE1EB4057AC1352",
        "s_vi": "[CS]v1|333913D9AC38E914-40000F49E47A6DA6[CE]",
        "_pxvid": "c16bb147-2dd3-11ef-bdb5-49eb9124e303",
        "_csrfSecret": "Sn60wGrA1E%2FJZZYSqZEG%2BXIY",
        "tabc": "%7B%221274%22%3A%22a%22%2C%221337%22%3A%22b%22%2C%221341%22%3A%22b%22%2C%221353%22%3A%22b%22%2C%221365%22%3A%22b%22%2C%221377%22%3A%22b%22%2C%221386%22%3A%22b%22%2C%221395%22%3A%22b%22%2C%221406%22%3A%22b%22%2C%221409%22%3A%22b%22%2C%221422%22%3A%22a%22%2C%221425%22%3A%22a%22%2C%221437%22%3A%22a%22%2C%221439%22%3A%22control%22%2C%221440%22%3A%22control%22%2C%221444%22%3A%22a%22%2C%221452%22%3A%22a%22%2C%221464%22%3A%22a%22%2C%221469%22%3A%22a%22%2C%221475%22%3A%22b%22%2C%221476%22%3A%22a%22%2C%221481%22%3A%22a%22%2C%221484%22%3A%22a%22%7D",
        "s_cc": "true",
        "pxcts": "67cb0a71-305c-11ef-bcf1-00180835e9a5",
        "__gads": "ID=b6223778a1d46a5e:T=1718757299:RT=1719035890:S=ALNI_MaCiOk4JKImiunkpD9PFePUw5Kdkw",
        "__gpi": "UID=00000e3143138126:T=1718757299:RT=1719035890:S=ALNI_MapiffivCIAoD_GEkw8ZThPdyAxGg",
        "__eoi": "ID=223bd185bd899a5e:T=1718757299:RT=1719035890:S=AA-AfjbRWRvQIjzCawNCNtpWlvQy",
        "_lr_geo_location_state": "CA",
        "_lr_geo_location": "US",
        "g_state": "googleOneTap",
        "s_sq": "%5B%5BB%5D%5D",
        "_px3": "f60a22bcc18a12afdea2ffcf5b4eaed15d8249cbe75ae776ddbb54bda068f1b6:GeeNUrCdkwZIcbLTjTQXm8KUwpIvcprS9oULnZVfezeY5grzbwy59OCz/n/xnRZZjG9RgYOPikjsnoFa+tx+Tw==:1000:yDn9+I0AI0CHmyE+wuJNeqbuUSaMt+AGp/cJtvGuA/s4It9pZ+AtXPbDphOUT+pthzDvIt0ucQQeKcd+LRn8Qtazapk/g/5uG9/TDucuzu6BCReIWMeodIVCTc8DQpedbqkOJesc1MAoIItHsaVOO3mxtHCL2HZ5/u9gEwNmaYDuzZUCA4etCNBrPljXXyC5KYqk5bFAxJNR3cgzRZUbhqK5Cj2Bey2I4qWTyg+SeUQ=",
        "trul_visitTimer": "1719035890690_1719035993794"
    }

params = {
        "operation_nam": "WEB_searchResultsMapQuery",
        "transactionId": "78d40e59-1939-45f8-a4ca-c7447fcffc18"
    }

json_data = {
        "operationName": "WEB_searchResultsMapQuery",
        "variables": {
            "heroImageFallbacks": [
                "STREET_VIEW",
                "SATELLITE_VIEW"
            ],
            "searchDetails": {
                "searchType": "FOR_SALE",
                "location": {
                    "cities": [
                        {
                            "city": "New York",
                            "state": "NY"
                        }
                    ]
                },
                "filters": {
                    "sort": {
                        "type": "DATE",
                        "ascending": false
                    },
                    "page": 1,
                    "limit": 190,
                    "isAlternateListingSource": false,
                    "propertyTypes": [],
                    "listingTypes": [],
                    "pets": [],
                    "rentalListingTags": [],
                    "foreclosureTypes": [],
                    "buildingAmenities": [],
                    "unitAmenities": [],
                    "landlordPays": [],
                    "propertyAmenityTypes": [],
                    "sceneryTypes": [],
                    "includeOffMarket": false
                }
            },
            "includeOffMarket": false,
            "includeLocationPolygons": true,
            "includeNearBy": true
        },
        "query": "query WEB_searchResultsMapQuery($searchDetails: SEARCHDETAILS_Input!, $heroImageFallbacks: [MEDIA_HeroImageFallbackTypes!], $includeOffMarket: Boolean!, $includeLocationPolygons: Boolean!, $includeNearBy: Boolean!) {\n  searchResultMap: searchHomesByDetails(\n    searchDetails: $searchDetails\n    includeNearBy: $includeNearBy\n  ) {\n    ...HomeMarkerLayersContainerFragment\n    ...HoverCardLayerFragment\n    ...SearchLocationBoundaryFragment @include(if: $includeLocationPolygons)\n    ...SchoolSearchMarkerLayerFragment\n    ...TransitLayerFragment\n    homes {\n      ...HiddenHomeClientFragment\n      __typename\n    }\n    nearByHomes {\n      ...HiddenHomeClientFragment\n      __typename\n    }\n    __typename\n  }\n  offMarketHomes: searchOffMarketHomes(searchDetails: $searchDetails) @include(if: $includeOffMarket) {\n    ...HomeMarkerLayersContainerFragment\n    ...HoverCardLayerFragment\n    __typename\n  }\n}\n\nfragment HomeMarkerLayersContainerFragment on SEARCH_Result {\n  ...HomeMarkersLayerFragment\n  __typename\n}\n\nfragment HomeMarkersLayerFragment on SEARCH_Result {\n  homes {\n    location {\n      coordinates {\n        latitude\n        longitude\n        __typename\n      }\n      __typename\n    }\n    url\n    metadata {\n      compositeId\n      __typename\n    }\n    ...HomeMarkerFragment\n    __typename\n  }\n  nearByHomes {\n    ...HomeMarkerFragment\n    __typename\n  }\n  __typename\n}\n\nfragment HomeMarkerFragment on HOME_Details {\n  media {\n    hasThreeDHome\n    __typename\n  }\n  location {\n    coordinates {\n      latitude\n      longitude\n      __typename\n    }\n    __typename\n  }\n  displayFlags {\n    enableMapPin\n    __typename\n  }\n  price {\n    calloutMarkerPrice: formattedPrice(formatType: SHORT_ABBREVIATION)\n    __typename\n  }\n  url\n  ... on HOME_Property {\n    activeForSaleListing {\n      openHouses {\n        formattedDay\n        __typename\n      }\n      __typename\n    }\n    hideMapMarkerAtZoomLevel {\n      zoomLevel\n      hide\n      __typename\n    }\n    __typename\n  }\n  ... on HOME_RentalCommunity {\n    hideMapMarkerAtZoomLevel {\n      zoomLevel\n      hide\n      __typename\n    }\n    __typename\n  }\n  __typename\n}\n\nfragment HoverCardLayerFragment on SEARCH_Result {\n  homes {\n    ...HomeHoverCardFragment\n    __typename\n  }\n  nearByHomes {\n    ...HomeHoverCardFragment\n    __typename\n  }\n  __typename\n}\n\nfragment HomeHoverCardFragment on HOME_Details {\n  ...HomeDetailsCardFragment\n  ...HomeDetailsCardHeroFragment\n  ...HomeDetailsCardPhotosFragment\n  location {\n    coordinates {\n      latitude\n      longitude\n      __typename\n    }\n    __typename\n  }\n  displayFlags {\n    enableMapPin\n    showMLSLogoOnMapMarkerCard\n    __typename\n  }\n  preferences {\n    isHomePreviouslyViewed\n    __typename\n  }\n  __typename\n}\n\nfragment HomeDetailsCardFragment on HOME_Details {\n  __typename\n  location {\n    city\n    stateCode\n    zipCode\n    streetAddress\n    fullLocation: formattedLocation(formatType: STREET_CITY_STATE_ZIP)\n    partialLocation: formattedLocation(formatType: STREET_ONLY)\n    __typename\n  }\n  price {\n    formattedPrice\n    ... on HOME_ValuationPrice {\n      typeDescription(abbreviate: true)\n      __typename\n    }\n    __typename\n  }\n  url\n  homeUrl\n  tags(include: MINIMAL) {\n    level\n    formattedName\n    icon {\n      vectorImage {\n        svg\n        __typename\n      }\n      __typename\n    }\n    __typename\n  }\n  fullTags: tags {\n    level\n    formattedName\n    icon {\n      vectorImage {\n        svg\n        __typename\n      }\n      __typename\n    }\n    __typename\n  }\n  floorSpace {\n    formattedDimension\n    __typename\n  }\n  lotSize {\n    ... on HOME_SingleDimension {\n      formattedDimension(minDecimalDigits: 2, maxDecimalDigits: 2)\n      __typename\n    }\n    __typename\n  }\n  bedrooms {\n    formattedValue(formatType: TWO_LETTER_ABBREVIATION)\n    __typename\n  }\n  bathrooms {\n    formattedValue(formatType: TWO_LETTER_ABBREVIATION)\n    __typename\n  }\n  isSaveable\n  preferences {\n    isSaved\n    __typename\n  }\n  metadata {\n    compositeId\n    legacyIdForSave\n    unifiedListingType\n    typedHomeId\n    __typename\n  }\n  typedHomeId\n  tracking {\n    key\n    value\n    __typename\n  }\n  displayFlags {\n    showMLSLogoOnListingCard\n    addAttributionProminenceOnListCard\n    __typename\n  }\n  ... on HOME_RoomForRent {\n    numberOfRoommates\n    availableDate: formattedAvailableDate(dateFormat: \"MMM D\")\n    providerListingId\n    __typename\n  }\n  ... on HOME_RentalCommunity {\n    activeListing {\n      provider {\n        summary(formatType: SHORT)\n        listingSource {\n          logoUrl\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    location {\n      communityLocation: formattedLocation(formatType: STREET_COMMUNITY_NAME)\n      __typename\n    }\n    providerListingId\n    __typename\n  }\n  ... on HOME_Property {\n    currentStatus {\n      isRecentlySold\n      isRecentlyRented\n      isActiveForRent\n      isActiveForSale\n      isOffMarket\n      isForeclosure\n      __typename\n    }\n    priceChange {\n      priceChangeDirection\n      __typename\n    }\n    activeListing {\n      provider {\n        summary(formatType: SHORT)\n        extraShortSummary: summary(formatType: EXTRA_SHORT)\n        listingSource {\n          logoUrl\n          __typename\n        }\n        __typename\n      }\n      dateListed\n      __typename\n    }\n    lastSold {\n      provider {\n        summary(formatType: SHORT)\n        extraShortSummary: summary(formatType: EXTRA_SHORT)\n        listingSource {\n          logoUrl\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    providerListingId\n    __typename\n  }\n  ... on HOME_FloorPlan {\n    priceChange {\n      priceChangeDirection\n      __typename\n    }\n    provider {\n      summary(formatType: SHORT)\n      __typename\n    }\n    __typename\n  }\n}\n\nfragment HomeDetailsCardHeroFragment on HOME_Details {\n  media {\n    heroImage(fallbacks: $heroImageFallbacks) {\n      url {\n        small\n        medium\n        __typename\n      }\n      webpUrl: url(compression: webp) {\n        small\n        __typename\n      }\n      __typename\n    }\n    __typename\n  }\n  __typename\n}\n\nfragment HomeDetailsCardPhotosFragment on HOME_Details {\n  media {\n    __typename\n    heroImage(fallbacks: $heroImageFallbacks) {\n      url {\n        small\n        medium\n        __typename\n      }\n      webpUrl: url(compression: webp) {\n        small\n        medium\n        __typename\n      }\n      __typename\n    }\n    photos {\n      url {\n        small\n        medium\n        __typename\n      }\n      webpUrl: url(compression: webp) {\n        small\n        medium\n        __typename\n      }\n      __typename\n    }\n  }\n  __typename\n}\n\nfragment HiddenHomeClientFragment on HOME_Details {\n  isHideable\n  typedHomeId\n  preferences {\n    isHidden\n    isSaved\n    __typename\n  }\n  metadata {\n    compositeId\n    __typename\n  }\n  __typename\n}\n\nfragment SearchLocationBoundaryFragment on SEARCH_Result {\n  location {\n    encodedPolygon\n    ... on SEARCH_ResultLocationCity {\n      locationId\n      __typename\n    }\n    ... on SEARCH_ResultLocationCounty {\n      locationId\n      __typename\n    }\n    ... on SEARCH_ResultLocationNeighborhood {\n      locationId\n      __typename\n    }\n    ... on SEARCH_ResultLocationPostalCode {\n      locationId\n      __typename\n    }\n    ... on SEARCH_ResultLocationState {\n      locationId\n      __typename\n    }\n    __typename\n  }\n  __typename\n}\n\nfragment SchoolSearchMarkerLayerFragment on SEARCH_Result {\n  schools {\n    ...SchoolMarkersLayerFragment\n    __typename\n  }\n  __typename\n}\n\nfragment SchoolMarkersLayerFragment on School {\n  id\n  latitude\n  longitude\n  categories\n  ...SchoolHoverCardFragment\n  __typename\n}\n\nfragment SchoolHoverCardFragment on School {\n  id\n  name\n  gradesRange\n  providerRating {\n    rating\n    __typename\n  }\n  streetAddress\n  studentCount\n  latitude\n  longitude\n  __typename\n}\n\nfragment TransitLayerFragment on SEARCH_Result {\n  transitStations {\n    stationName\n    iconUrl\n    coordinates {\n      latitude\n      longitude\n      __typename\n    }\n    radius\n    __typename\n  }\n  __typename\n}"
    }